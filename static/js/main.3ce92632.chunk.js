(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{26:function(e,a,t){e.exports=t(47)},31:function(e,a,t){},35:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},43:function(e,a,t){},44:function(e,a,t){},45:function(e,a,t){},46:function(e,a,t){},47:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(23),s=t.n(c),l=t(9),i=(t(31),t(5)),o=t(6),u=t(10),m=t(7),f=t(11),v=t(12),d=t(8),h=(t(35),function(){return r.a.createElement("header",{className:"header"},r.a.createElement(l.b,{className:"logo",to:"/"},"Movie App"),r.a.createElement(l.b,{className:"link",to:"/favs"},r.a.createElement("span",{"aria-label":"Favourites page",className:"fas fa-heart"})))}),p=(t(41),function(e){var a=e.favs,t=e.handleFavButttonClicked,n=e.id,c=e.Title,s=e.Poster;return r.a.createElement("div",{className:"movie-item"},r.a.createElement("div",{className:"img-wrapper"},r.a.createElement("img",{className:"img",src:"".concat(s),alt:"".concat(c," - Poster")})),r.a.createElement("div",{className:"btns-group"},r.a.createElement(l.b,{to:"/movie/".concat(n),className:"info-btn"},r.a.createElement("span",{"aria-label":"More information about ".concat(c),className:"fas fa-info"})),r.a.createElement("button",{"aria-label":"Add to favourites",className:"fav-btn",value:n,onClick:t},a.includes(n)?r.a.createElement("span",{"aira-hidden":"true",className:"fas fa-heart"}):r.a.createElement("span",{"aira-hidden":"true",className:"far fa-heart"}))))}),b=(t(42),t(43),function(){return r.a.createElement("div",{className:"sk-folding-cube"},r.a.createElement("div",{className:"sk-cube1 sk-cube"}),r.a.createElement("div",{className:"sk-cube2 sk-cube"}),r.a.createElement("div",{className:"sk-cube4 sk-cube"}),r.a.createElement("div",{className:"sk-cube3 sk-cube"}))}),E=function(e){return Object(d.usePromiseTracker)({delay:250}).promiseInProgress&&r.a.createElement(b,null)},k=function(e){function a(){return Object(i.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"movie-grid"},this.props.movies?this.props.movies.map((function(a){var t=a.imdbID,n=a.Title,c=a.Poster;return r.a.createElement(p,{key:"".concat(t,"_").concat(Math.floor(1e3*Math.random())),id:t,Title:n,Poster:c,favs:e.props.favs,handleFavButttonClicked:e.props.handleFavButttonClicked})})):null,this.props.loadingIndicatorOff?null:r.a.createElement(E,null))}}]),a}(n.Component),g=(t(44),function(e){return r.a.createElement("form",{autoComplete:"off",className:"form"},r.a.createElement("label",{className:"label",htmlFor:"query"},"Search Movie:"," "),r.a.createElement("input",{placeholder:"Search for movies...",className:"search-input",onChange:e.handleChange,type:"text",name:"query",id:"query"}),r.a.createElement("button",{className:"submit-btn",onClick:e.handleSubmit,type:"submit"},r.a.createElement("span",{"aria-hidden":"true",className:"fas fa-search"})))}),N=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(g,{handleClearMovies:e.handleClearMovies,handleChange:e.handleChange,handleSubmit:e.handleSubmit}),r.a.createElement(E,null),r.a.createElement(k,{loadingIndicatorOff:!0,favs:e.favs,handleFavButttonClicked:e.handleFavButttonClicked,movies:e.movies}))},C=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).state={movies:[]},t}return Object(f.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.favs.forEach((function(a){Object(d.trackPromise)(fetch("https://omdbapi.com/?apikey=251e77f3&i=".concat(a)).then((function(e){return e.json()})).then((function(a){return e.setState((function(e){return{movies:e.movies.concat(a)}}))})))}))}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(k,{favs:this.props.favs,handleFavButttonClicked:this.props.handleFavButttonClicked,movies:this.state.movies}))}}]),a}(n.Component),O=(t(45),function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).state={movie:""},t}return Object(f.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.id;Object(d.trackPromise)(fetch("https://omdbapi.com/?apikey=251e77f3&i=".concat(a,"&plot=full")).then((function(e){return e.json()})).then((function(a){return e.setState({movie:a},(function(){"False"===e.state.movie.Response&&e.props.history.replace("/")}))})))}},{key:"render",value:function(){var e=this.state.movie,a=e.Poster,t=e.Title,c=e.Plot,s=e.Genre,l=e.Released,i=e.Actors,o=e.imdbRating,u=e.Runtime;return r.a.createElement(n.Fragment,null,r.a.createElement(E,null),this.state.movie?r.a.createElement("div",{className:"movie-info"},r.a.createElement("div",{className:"img-wrapper"},r.a.createElement("img",{className:"img",src:"".concat(a),alt:"".concat(t," Poster")})),r.a.createElement("h2",{className:"title"},t),r.a.createElement("div",{className:"info"},r.a.createElement("span",{className:"released"},l),r.a.createElement("span",{className:"runtime"},u),r.a.createElement("span",null,o," / 10")),r.a.createElement("span",{className:"genre"},s),r.a.createElement("span",{className:"actors"},i),r.a.createElement("p",{className:"plot"},c),r.a.createElement("button",{"aria-label":"Add to favourites",className:"fav-btn",value:this.props.match.params.id,onClick:this.props.handleFavButttonClicked},this.props.favs.includes(this.props.match.params.id)?r.a.createElement("span",{"aira-hidden":"true",className:"fas fa-heart"}):r.a.createElement("span",{"aira-hidden":"true",className:"far fa-heart"}))):null)}}]),a}(n.Component)),j=(t(46),function(e){function a(){var e;return Object(i.a)(this,a),(e=Object(u.a)(this,Object(m.a)(a).call(this))).handleChange=function(a){e.setState({query:a.target.value})},e.handleSubmit=function(a){a.preventDefault(),Object(d.trackPromise)(fetch("https://www.omdbapi.com/?s=".concat(e.state.query,"&apikey=251e77f3")).then((function(e){return e.json()})).then((function(a){return e.setState({movies:a.Search})})).catch((function(e){return console.error(e)})))},e.saveInLocalStorage=function(e){localStorage.setItem("favs",JSON.stringify(e))},e.handleFavButttonClicked=function(a){var t=a.currentTarget.value;e.state.favs.includes(t)?(e.setState((function(e){return{favs:e.favs.filter((function(e){return e!==t}))}}),(function(){e.saveInLocalStorage(e.state.favs)})),a.currentTarget.classList.remove("in-favs")):(e.setState((function(e){return{favs:e.favs.concat(t)}}),(function(){e.saveInLocalStorage(e.state.favs)})),a.currentTarget.classList.add("in-favs"))},e.state={movies:"",query:"",favs:localStorage.favs?JSON.parse(localStorage.favs):[]},e}return Object(f.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(h,null),r.a.createElement(v.c,null,r.a.createElement(v.a,{exact:!0,path:"/favs",render:function(){return r.a.createElement(C,{favs:e.state.favs,handleFavButttonClicked:e.handleFavButttonClicked})}}),r.a.createElement(v.a,{exact:!0,path:"/movie/:id",render:function(a){return r.a.createElement(O,Object.assign({},a,{favs:e.state.favs,handleFavButttonClicked:e.handleFavButttonClicked}))}}),r.a.createElement(v.a,{path:"/",render:function(){return r.a.createElement(N,{favs:e.state.favs,handleFavButttonClicked:e.handleFavButttonClicked,movies:e.state.movies,handleClearMovies:e.handleClearMovies,handleChange:e.handleChange,handleSubmit:e.handleSubmit})}})))}}]),a}(n.Component));s.a.render(r.a.createElement(l.a,null,r.a.createElement(j,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.3ce92632.chunk.js.map