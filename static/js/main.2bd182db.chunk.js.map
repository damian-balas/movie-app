{"version":3,"sources":["components/Header/Header.js","components/MovieItem/MovieItem.js","components/MovieGrid/MovieGrid.js","components/Search/Search.js","pages/Homepage/Homepage.js","pages/Favspage/Favspage.js","pages/MovieInfo/MovieInfo.js","App.js","index.js"],"names":["Header","className","to","aria-label","MovieItem","favs","handleFavButttonClicked","id","Title","Poster","Year","src","alt","style","textAlign","value","onClick","includes","aira-hidden","MovieGrid","this","props","movies","map","imdbID","key","Component","Search","autoComplete","htmlFor","placeholder","onChange","handleChange","type","name","handleSubmit","aria-hidden","Homepage","handleClearMovies","Favspage","state","forEach","fetch","then","response","json","data","setState","concat","console","log","length","marginTop","fontSize","MovieInfo","movie","match","params","Response","history","replace","Plot","Genre","Released","Actors","imdbRating","Runtime","App","event","query","target","a","preventDefault","error","saveInLocalStorage","localStorage","setItem","JSON","stringify","currentTarget","filter","classList","remove","add","parse","exact","path","render","ReactDOM","document","getElementById"],"mappings":"oaAceA,G,MATA,kBACb,4BAAQC,UAAU,UAChB,kBAAC,IAAD,CAAMA,UAAU,OAAOC,GAAG,KAA1B,aACA,kBAAC,IAAD,CAAMD,UAAU,OAAOC,GAAG,SACxB,0BAAMC,aAAW,kBAAkBF,UAAU,qBCgBpCG,G,MApBG,SAAC,GAAD,IAAEC,EAAF,EAAEA,KAAMC,EAAR,EAAQA,wBAAyBC,EAAjC,EAAiCA,GAAIC,EAArC,EAAqCA,MAAOC,EAA5C,EAA4CA,OAAQC,EAApD,EAAoDA,KAApD,OAChB,yBAAKT,UAAU,cACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,MAAMU,IAAG,UAAKF,GAAUG,IAAG,UAAKJ,EAAL,cAE5C,yBAAKK,MAAO,CACVC,UAAW,WAEX,wBAAIb,UAAU,SAASO,GACvB,0BAAMP,UAAU,QAAQS,IAE1B,yBAAKT,UAAU,cACb,kBAAC,IAAD,CAAMC,GAAE,iBAAYK,GAAMN,UAAU,YACnC,0BAAME,aAAA,iCAAsCK,GAASP,UAAU,iBAEhE,4BAAQE,aAAW,oBAAoBF,UAAU,UAAUc,MAAOR,EAAIS,QAASV,GAA0BD,EAAKY,SAASV,GAAM,0BAAMW,cAAY,OAAOjB,UAAU,iBAAyB,0BAAMiB,cAAY,OAAOjB,UAAU,sBCDnNkB,G,uLAXJ,IAAD,OACN,OACE,yBAAKlB,UAAU,cAEXmB,KAAKC,MAAMC,OAASF,KAAKC,MAAMC,OAAOC,KAAI,gBAAEC,EAAF,EAAEA,OAAQhB,EAAV,EAAUA,MAAOC,EAAjB,EAAiBA,OAAQC,EAAzB,EAAyBA,KAAzB,OAAkC,kBAAC,EAAD,CAAWe,IAAKD,EAAQjB,GAAIiB,EAAQhB,MAAOA,EAAOC,OAAQA,EAAQC,KAAMA,EAAML,KAAM,EAAKgB,MAAMhB,KAAMC,wBAAyB,EAAKe,MAAMf,6BAA8B,U,GANrOoB,cCQTC,G,MAVA,SAACN,GAAD,OACb,0BAAMO,aAAa,MAAM3B,UAAU,QACjC,2BAAOA,UAAU,QAAQ4B,QAAQ,SAAjC,kBACA,2BAAQC,YAAY,uBAAuB7B,UAAU,eAAe8B,SAAUV,EAAMW,aAAcC,KAAK,OAAOC,KAAK,QAAQ3B,GAAG,UAC9H,4BAAQN,UAAU,aAAae,QAASK,EAAMc,aAAcF,KAAK,UAC/D,0BAAMG,cAAY,OAAOnC,UAAU,sBCG1BoC,EAPE,SAAChB,GAAD,OACf,kBAAC,WAAD,KACE,kBAAC,EAAD,CAAQiB,kBAAmBjB,EAAMiB,kBAAmBN,aAAcX,EAAMW,aAAcG,aAAcd,EAAMc,eAC1G,kBAAC,EAAD,CAAW9B,KAAMgB,EAAMhB,KAAMC,wBAAyBe,EAAMf,wBAAyBgB,OAAQD,EAAMC,WCwDxFiB,E,YA3Db,WAAYlB,GAAQ,IAAD,8BACjB,4CAAMA,KAEDmB,MAAQ,CACXlB,OAAQ,IAJO,E,iFAQE,IAAD,OAWlBF,KAAKC,MAAMhB,KAAKoC,SAAQ,SAAAlC,GACtBmC,MAAM,yCAAD,OAA0CnC,IAC5CoC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAI,OACR,EAAKC,UAAS,SAAAP,GAEZ,MAAO,CACLlB,OAFkBkB,EAAMlB,OAAO0B,OAAOF,aAOhDG,QAAQC,IAAI9B,KAAKC,S,+BAIjB,OACE,kBAAC,WAAD,KACGD,KAAKoB,MAAMlB,OAAO6B,OAAS,EAC1B,kBAAC,EAAD,CACE9C,KAAMe,KAAKC,MAAMhB,KACjBC,wBAAyBc,KAAKC,MAAMf,wBACpCgB,OAAQF,KAAKoB,MAAMlB,SAGrB,wBACET,MAAO,CACLC,UAAW,SACXsC,UAAW,OACXC,SAAU,SAJd,0C,GA7Ca3B,aCiDR4B,G,kBAhDb,WAAYjC,GAAO,IAAD,8BAChB,4CAAMA,KAEDmB,MAAQ,CACXe,MAAO,IAJO,E,iFAQG,IAAD,OACZhD,EAAKa,KAAKC,MAAMmC,MAAMC,OAAOlD,GAEnCmC,MAAM,yCAAD,OAA0CnC,EAA1C,eACJoC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAI,OAAI,EAAKC,SAAS,CAACQ,MAAOT,IAAO,WACR,UAA9B,EAAKN,MAAMe,MAAMG,UAClB,EAAKrC,MAAMsC,QAAQC,QAAQ,a,+BAMxB,IAAD,EAEsExC,KAAKoB,MAAMe,MAAhF9C,EAFD,EAECA,OAAQD,EAFT,EAESA,MAAOqD,EAFhB,EAEgBA,KAAMC,EAFtB,EAEsBA,MAAOC,EAF7B,EAE6BA,SAAUC,EAFvC,EAEuCA,OAAQC,EAF/C,EAE+CA,WAAYC,EAF3D,EAE2DA,QAEjE,OACE,yBAAKjE,UAAU,cACX,yBAAKA,UAAU,eACb,yBAAKA,UAAU,MAAMU,IAAG,UAAKF,GAAUG,IAAG,UAAKJ,EAAL,cAE5C,wBAAIP,UAAU,SAASO,GACvB,yBAAKP,UAAU,QACb,0BAAMA,UAAU,YAAY8D,GAC5B,0BAAM9D,UAAU,WAAWiE,GAC3B,8BAAOD,EAAP,UAEF,0BAAMhE,UAAU,SAAS6D,GACzB,0BAAM7D,UAAU,UAAU+D,GAC1B,uBAAG/D,UAAU,QACV4D,GAGH,4BAAQ1D,aAAW,oBAAoBF,UAAU,UAAUc,MAAOK,KAAKC,MAAMmC,MAAMC,OAAOlD,GAAIS,QAASI,KAAKC,MAAMf,yBAA0Bc,KAAKC,MAAMhB,KAAKY,SAASG,KAAKC,MAAMmC,MAAMC,OAAOlD,IAAO,0BAAMW,cAAY,OAAOjB,UAAU,iBAAyB,0BAAMiB,cAAY,OAAOjB,UAAU,uB,GA3CrRyB,cCqHTyC,G,kBA9Gb,aAAe,IAAD,8BACZ,+CAUFnC,aAAe,SAAAoC,GACb,EAAKrB,SAAS,CAAEsB,MAAOD,EAAME,OAAOvD,QACpCkC,QAAQC,IAAI,EAAKV,QAbL,EAgBdL,aAhBc,uCAgBC,WAAMiC,GAAN,iBAAAG,EAAA,6DACbH,EAAMI,iBADO,kBAGY9B,MAAM,6BAAD,OACG,EAAKF,MAAM6B,MADd,qBAHjB,cAGLzB,EAHK,gBAMQA,EAASC,OANjB,OAMLA,EANK,OAOX,EAAKE,SAAS,CAAEzB,OAAQuB,EAAKlB,SAAU,kBAAMsB,QAAQC,IAAI,EAAKV,UAPnD,kDASXS,QAAQwB,MAAR,MATW,0DAhBD,wDA6BdC,mBAAqB,SAACrE,GACpBsE,aAAaC,QAAQ,OAAQC,KAAKC,UAAUzE,KA9BhC,EAiCdC,wBAA0B,SAAA8D,GACxB,IAAMrD,EAAQqD,EAAMW,cAAchE,MAC7B,EAAKyB,MAAMnC,KAAKY,SAASF,IAe5B,EAAKgC,UACH,SAAAP,GAEE,MAAO,CACLnC,KAFWmC,EAAMnC,KAAK2E,QAAO,SAAAzE,GAAE,OAAIA,IAAOQ,SAK9C,WACE,EAAK2D,mBAAmB,EAAKlC,MAAMnC,SAGvC+D,EAAMW,cAAcE,UAAUC,OAAO,aAzBrC,EAAKnC,UACH,SAAAP,GAGE,MAAO,CACLnC,KAHWmC,EAAMnC,KAAK2C,OAAOjC,OAMjC,WACE,EAAK2D,mBAAmB,EAAKlC,MAAMnC,SAGvC+D,EAAMW,cAAcE,UAAUE,IAAI,aA7CpC,EAAK3C,MAAQ,CACXlB,OAAQ,GACR+C,MAAO,GACPhE,KAAMsE,aAAatE,KAAOwE,KAAKO,MAAMT,aAAatE,MAAQ,IANhD,E,sEAiEJ,IAAD,OACP,OACE,kBAAC,WAAD,KACE,kBAAC,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEgF,OAAK,EACLC,KAAK,QACLC,OAAQ,kBACN,kBAAC,EAAD,CACElF,KAAM,EAAKmC,MAAMnC,KACjBC,wBAAyB,EAAKA,6BAIpC,kBAAC,IAAD,CACE+E,OAAK,EACLC,KAAK,aACLC,OAAQ,SAAClE,GAAD,OACN,kBAAC,EAAD,iBACMA,EADN,CAEEhB,KAAM,EAAKmC,MAAMnC,KACjBC,wBAAyB,EAAKA,8BAIpC,kBAAC,IAAD,CACEgF,KAAK,IACLC,OAAQ,kBACN,kBAAC,EAAD,CACElF,KAAM,EAAKmC,MAAMnC,KACjBC,wBAAyB,EAAKA,wBAC9BgB,OAAQ,EAAKkB,MAAMlB,OACnBgB,kBAAmB,EAAKA,kBACxBN,aAAc,EAAKA,aACnBG,aAAc,EAAKA,wB,GArGjBT,cCFlB8D,IAASD,OAAO,kBAAC,IAAD,KAAe,kBAAC,EAAD,OAAyBE,SAASC,eAAe,W","file":"static/js/main.2bd182db.chunk.js","sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport './Header.sass'\n\nconst Header = () => (\n  <header className='header'>\n    <Link className='logo' to='/'>Movie App</Link>\n    <Link className='link' to='/favs'>\n      <span aria-label=\"Favourites page\" className='fas fa-heart'></span>\n    </Link>\n  </header>\n)\n\nexport default Header","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport './MovieItem.sass'\n\nconst MovieItem = ({favs, handleFavButttonClicked, id, Title, Poster, Year }) => (\n  <div className=\"movie-item\">\n    <div className=\"img-wrapper\">\n      <img className='img' src={`${Poster}`} alt={`${Title} Poster`}/>\n    </div>\n    <div style={{\n      textAlign: 'center'\n    }}>\n      <h2 className='title'>{Title}</h2>\n      <span className=\"year\">{Year}</span>\n    </div>\n    <div className=\"btns-group\">\n      <Link to={`/movie/${id}`} className='info-btn'>\n       <span aria-label={`More information about ${Title}`} className=\"fas fa-info\"></span>\n      </Link>\n      <button aria-label=\"Add to favourites\" className='fav-btn' value={id} onClick={handleFavButttonClicked}>{favs.includes(id) ? <span aira-hidden='true' className=\"fas fa-heart\"></span> : <span aira-hidden='true' className=\"far fa-heart\"></span>}</button>\n    </div>\n  </div>\n)\n\nexport default MovieItem","import React, { Component } from 'react'\n\nimport MovieItem from '../MovieItem/MovieItem'\n\nimport './MovieGrid.sass'\n\nclass MovieGrid extends Component {\n\n  render(){\n    return(\n      <div className=\"movie-grid\">\n        {\n          this.props.movies ? this.props.movies.map(({imdbID, Title, Poster, Year})=> <MovieItem key={imdbID} id={imdbID} Title={Title} Poster={Poster} Year={Year} favs={this.props.favs} handleFavButttonClicked={this.props.handleFavButttonClicked}/>) : null\n        }\n      </div>\n    )\n  }\n}\n\nexport default MovieGrid","import React from 'react'\n\nimport './Search.sass'\n\nconst Search = (props) => (\n  <form autoComplete=\"off\" className='form'>\n    <label className='label' htmlFor=\"query\">Search Movie: </label>\n    <input  placeholder='Search for movies...' className='search-input' onChange={props.handleChange} type=\"text\" name=\"query\" id=\"query\"/>\n    <button className='submit-btn' onClick={props.handleSubmit} type=\"submit\">\n      <span aria-hidden=\"true\" className=\"fas fa-search\"></span>\n    </button>\n  </form>\n)\n\nexport default Search","import React, { Fragment } from 'react'\n\nimport MovieGrid from '../../components/MovieGrid/MovieGrid'\nimport Search from '../../components/Search/Search'\n\nconst Homepage = (props) => (\n  <Fragment>\n    <Search handleClearMovies={props.handleClearMovies} handleChange={props.handleChange} handleSubmit={props.handleSubmit}/>\n    <MovieGrid favs={props.favs} handleFavButttonClicked={props.handleFavButttonClicked} movies={props.movies}/>\n  </Fragment>\n)\n\nexport default Homepage","import React, { Component, Fragment } from \"react\";\n\nimport MovieGrid from \"../../components/MovieGrid/MovieGrid\";\n\nclass Favspage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      movies: []\n    };\n  }\n\n  componentDidMount() {\n    // const promises = this.props.favs.map(id => fetch(`http://omdbapi.com/?apikey=251e77f3&i=${id}`).then(response => response.json()))\n    // const data = await Promise.all(promises)\n\n    // this.setState((state)=>{\n    //   const moviesArray = state.movies.concat(data)\n    //   return({\n    //     movies: moviesArray\n    //   })\n    // })\n\n    this.props.favs.forEach(id => {\n      fetch(`http://omdbapi.com/?apikey=251e77f3&i=${id}`)\n        .then(response => response.json())\n        .then(data =>\n          this.setState(state => {\n            const moviesArray = state.movies.concat(data);\n            return {\n              movies: moviesArray\n            };\n          })\n        );\n    });\n    console.log(this.props)\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {this.state.movies.length > 0 ? (\n          <MovieGrid\n            favs={this.props.favs}\n            handleFavButttonClicked={this.props.handleFavButttonClicked}\n            movies={this.state.movies}\n          />\n        ) : (\n          <h1\n            style={{\n              textAlign: \"center\",\n              marginTop: \"20px\",\n              fontSize: \"36px\"\n            }}\n          >\n            ADD MOVIES TO FAVOURITES FIRST...\n          </h1>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default Favspage;\n","import React, { Component } from 'react'\n\nimport './MovieInfo.sass'\n\nclass MovieInfo extends Component {\n  constructor(props){\n    super(props)\n\n    this.state = {\n      movie: ''\n    }\n  }\n\n  componentDidMount() {\n    const id = this.props.match.params.id \n\n    fetch(`http://omdbapi.com/?apikey=251e77f3&i=${id}&plot=full`)\n    .then(response => response.json())\n    .then(data => this.setState({movie: data}, () => {\n      if(this.state.movie.Response === \"False\") {\n        this.props.history.replace('/')\n      }\n    }));\n  }\n  \n\n  render(){\n\n    const {Poster, Title, Plot, Genre, Released, Actors, imdbRating, Runtime} = this.state.movie\n\n    return(\n      <div className=\"movie-info\">\n          <div className=\"img-wrapper\">\n            <img className='img' src={`${Poster}`} alt={`${Title} Poster`}/>\n          </div>\n          <h2 className='title'>{Title}</h2>\n          <div className='info'>\n            <span className='released'>{Released}</span>\n            <span className=\"runtime\">{Runtime}</span>\n            <span>{imdbRating} / 10</span>\n          </div>\n          <span className='genre'>{Genre}</span>\n          <span className='actors'>{Actors}</span>\n          <p className='plot'>\n            {Plot}\n          </p>\n          \n          <button aria-label=\"Add to favourites\" className='fav-btn' value={this.props.match.params.id} onClick={this.props.handleFavButttonClicked}>{this.props.favs.includes(this.props.match.params.id ) ? <span aira-hidden='true' className=\"fas fa-heart\"></span> : <span aira-hidden='true' className=\"far fa-heart\"></span>}</button>\n      </div>\n    )\n  }\n}\n\nexport default MovieInfo","import React, { Component, Fragment } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport Header from \"./components/Header/Header\";\nimport Homepage from \"./pages/Homepage/Homepage\";\nimport Favspage from \"./pages/Favspage/Favspage\";\nimport MovieInfo from './pages/MovieInfo/MovieInfo'\n\nimport \"./App.css\";\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movies: \"\",\n      query: \"\",\n      favs: localStorage.favs ? JSON.parse(localStorage.favs) : []\n    };\n\n  }\n\n  handleChange = event => {\n    this.setState({ query: event.target.value });\n    console.log(this.state)\n  };\n\n  handleSubmit = async event => {\n    event.preventDefault();\n    try {\n      const response = await fetch(\n        `http://www.omdbapi.com/?s=${this.state.query}&apikey=251e77f3`\n      );\n      const json = await response.json();\n      this.setState({ movies: json.Search }, () => console.log(this.state));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  saveInLocalStorage = (favs) => {\n    localStorage.setItem('favs', JSON.stringify(favs))\n  }\n\n  handleFavButttonClicked = event => {\n    const value = event.currentTarget.value;\n    if (!this.state.favs.includes(value)) {\n      this.setState(\n        state => {\n          const favs = state.favs.concat(value);\n\n          return {\n            favs\n          };\n        },\n        () => {\n          this.saveInLocalStorage(this.state.favs)\n        }\n      );\n      event.currentTarget.classList.add(\"in-favs\");\n    } else {\n      this.setState(\n        state => {\n          const favs = state.favs.filter(id => id !== value);\n          return {\n            favs\n          };\n        },\n        () => {\n          this.saveInLocalStorage(this.state.favs)\n        }\n      );\n      event.currentTarget.classList.remove(\"in-favs\");\n    }\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <Header />\n        <Switch>\n          <Route\n            exact \n            path=\"/favs\"\n            render={() => (\n              <Favspage\n                favs={this.state.favs}\n                handleFavButttonClicked={this.handleFavButttonClicked}\n              />\n            )}\n          />\n          <Route \n            exact \n            path=\"/movie/:id\"\n            render={(props) => (\n              <MovieInfo\n                {...props}\n                favs={this.state.favs}\n                handleFavButttonClicked={this.handleFavButttonClicked}\n              />\n            )}\n          />\n          <Route\n            path=\"/\"\n            render={() => (\n              <Homepage\n                favs={this.state.favs}\n                handleFavButttonClicked={this.handleFavButttonClicked}\n                movies={this.state.movies}\n                handleClearMovies={this.handleClearMovies}\n                handleChange={this.handleChange}\n                handleSubmit={this.handleSubmit}\n              />\n            )}\n          />\n        </Switch>\n      </Fragment>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {BrowserRouter} from 'react-router-dom'\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.getElementById('root'));\n\n"],"sourceRoot":""}